<!--
  Code created was by or on behalf of Syngenta and is released under the open source license in use for the
  pre-existing code or project. Syngenta does not assert ownership or copyright any over pre-existing work.
  -->

<html>
<head>
    <title>Identification - CAMERA</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" type="text/css" href="/net/sf/mzmine/desktop/impl/helpsystem/HelpStyles.css">
</head>

<body>

<h1>CAMERA</h1>

<h2>Description</h2>

<p>
    This module uses Bioconductor's CAMERA (Collection of Algorithms for MEtabolite pRofile Annotation) [<a
        href="#ref1">1</a>]. The algorithm involves three steps:
</p>

<ol>
    <li>Peaks are grouped according to their retention times.</li>
    <li>Within each group, clusters of isotope peaks are identified.</li>
    <li>Groups of peaks are sub-divided into smaller groups of peaks whose shapes are highly correlated. Clusters of
        isotopes are preserved, i.e. not separated into different groups.
    </li>
</ol>

<p>The groups of peaks produced at the end of this process are referred to as pseudo-spectra; one per group. An identity
    is added to each peak indicating which pseudo-spectrum it is a member of. The identity also notes any peaks that
    were identified as isotopes.</p>

<img src="pseudospectra.png" alt="Peak list showing pseudo-spectra identities.">

<h4>Method parameters</h4>

<dl>
    <dt>FWHM Sigma</dt>
    <dd>A Gaussian is fitted to each peak. This parameter multiplies the width of the fitted peak when grouping by peaks
        by their retention times.
    </dd>

    <dt>FWHM percentage</dt>
    <dd>The percentage of a peak's full-width half-maximum used when grouping peaks by their retention times.</dd>

    <dt>Isotopes max. charge</dt>
    <dd>The maximum charge considered when identifying isotopes.</dd>

    <dt>Isotopes max. per cluster</dt>
    <dd>The maximum number of isotopes per cluster.</dd>

    <dt>Isotopes mass tolerance</dt>
    <dd>The mass tolerance used when identifying isotopes. Provide both the absolute (m/z) and relative (ppm) values.
    </dd>

    <dt>Correlation threshold</dt>
    <dd>The minimum correlation required between two peaks' chromatograms when grouping by peak shape.</dd>

    <dt>Correlation p-value</dt>
    <dd>The required p-value when testing the significance of peak shape correlation.</dd>
</dl>

<h4>Requirements</h4>

<p>
    This module relies on Bioconductor's CAMERA package for R [<a href="#ref2">2</a>]. Therefore, you must
    have R v2.15 or later installed. To install the CAMERA package, run R and issue the following commands:
</p>

<pre>source("http://bioconductor.org/biocLite.R")
biocLite("CAMERA")</pre>

<p>To run R from MZmine the rJava package [<a href="#ref3">3</a>] must be installed in R, so also run the following R
    command:</p>

<pre>install.packages("rJava")</pre>

<p>
    You will also need to correctly configure several environment variables in your MZmine start-up script
    (startMZmine_Windows.bat, startMZmine_Linux.sh or startMZmine_MacOSX.command):
</p>

<dl>
    <dt>R_HOME</dt>
    <dd>This is the directory where R is installed, e.g. for Windows it will be something like <span
            style="font-family: monospace;">C:\Program&nbsp;Files\R\R-2.15.0</span>.
    </dd>

    <dt>R_LIBS_USER</dt>
    <dd>This is the directory in which R installs third-party packages. It's usually a sub-directory of your personal
        directory, e.g. for Windows it will be something like <span style="font-family: monospace;">%USERPROFILE%\Documents\R\win-library\2.15</span>.
    </dd>

    <dt>PATH</dt>
    <dd><strong>Append</strong> the directory that contains R's libraries. It will be a sub-directory of %R_HOME%, e.g.
        for 32-bit Windows it will be something like <span style="font-family: monospace;">%R_HOME%\bin\i386</span> or
        for 64-bit Windows <span style="font-family: monospace;">%R_HOME%\bin\x64</span>.
    </dd>

    <dt>JRI_LIB_PATH</dt>
    <dd>This is the directory where rJava has installed its JRI libraries. It will be a sub-directory of %R_LIBS_USER%,
        e.g. for 32-bit Windows it will be something like <span style="font-family: monospace;">%R_LIBS_USER%\rJava\jri\i386</span>
        or for 64-bit Windows <span style="font-family: monospace;">%R_LIBS_USER%\rJava\jri\x64</span>.
    </dd>
</dl>

<h2>References</h2>

<p>
    <a name="ref1"></a>
    [1] Ralf Tautenhahn, Christoph BÃ¶ttcher, and Steffen Neumann "Annotation of LC/ESI-MS Mass Signals" <span
        style="font-style: italic;">Proc. of BIRD     2007: First International Conference on Bioinformatics Research and Development</span>,
    <span style="font-weight: bold;">2007</span>. <a
        href="http://www.springerlink.com/content/473l404001787974/ and http://msbi.ipb-halle.de/~rtautenh/bird07.pdf">http://www.springerlink.com/content/473l404001787974/</a>
</p>

<p>
    <a name="ref2"></a>
    [2] Bioconductor CAMERA "Collection of annotation related methods for mass spectrometry data" <a
        href="http://www.bioconductor.org/packages/release/bioc/html/CAMERA.html">http://www.bioconductor.org/packages/release/bioc/html/CAMERA.html</a>.
</p>

<p>
    <a name="ref3"></a> [3] rJava "Low-level R to Java interface" <a href="http://www.rforge.net/rJava/">http://www.rforge.net/rJava/</a>.
</p>
</body>
</html>
